function refreshForm(innerHTML) {
  const newPomodoroForm = document.getElementById('new_pomodoro');
  newPomodoroForm.innerHTML = innerHTML;
}

function setCount(value) {
  const count = document.getElementById('pomodoro_count');
  count.value = value;
}

function setSubmitText(text) {
  const submit = document.getElementById('submit')
  submit.value = text;
}

document.getElementById('counter').innerHTML++

<% if @pomodoro.errors.any? %>
  refreshForm('<%= j render "pomodoros/form", pomodoro: @pomodoro %>');
<% else %>
  setSubmitText(`Start ${document.getElementById('counter').innerHTML} pomodoros`)
<% end %>

document.addEventListener(
  'onSubmit',
  setCount(document.getElementById('counter').innerHTML)
)
